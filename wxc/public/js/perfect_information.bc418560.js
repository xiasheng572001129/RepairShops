(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["perfect_information"],{"0393":function(e,t,o){},"1b78":function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"perfect_information"},[o("Head",{attrs:{news:!0}}),o("Form")],1)},r=[],n=o("6a26"),s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"form"},[o("p",{staticClass:"col-32373C ft-36"},[e._v("请完善店铺信息")]),o("div",{staticClass:"form_input"},[o("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"维修厂名称"}},[o("el-input",{attrs:{placeholder:"请输入维修厂名称"},model:{value:e.form.company,callback:function(t){e.$set(e.form,"company",t)},expression:"form.company"}})],1),o("el-form-item",{attrs:{label:"负责人"}},[o("el-input",{attrs:{placeholder:"请输入负责人"},model:{value:e.form.leader,callback:function(t){e.$set(e.form,"leader",t)},expression:"form.leader"}})],1),o("el-form-item",{staticClass:"Major",attrs:{label:"主修",prop:"major"}},[o("div",{staticClass:"Major_input"},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.major[0],callback:function(t){e.$set(e.form.major,0,t)},expression:"form.major[0]"}}),o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.major[1],callback:function(t){e.$set(e.form.major,1,t)},expression:"form.major[1]"}}),o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.major[2],callback:function(t){e.$set(e.form.major,2,t)},expression:"form.major[2]"}}),o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.major[3],callback:function(t){e.$set(e.form.major,3,t)},expression:"form.major[3]"}}),o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.major[4],callback:function(t){e.$set(e.form.major,4,t)},expression:"form.major[4]"}}),o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.major[5],callback:function(t){e.$set(e.form.major,5,t)},expression:"form.major[5]"}})],1)]),o("el-form-item",{staticClass:"city",attrs:{label:"所在城市"}},[o("el-select",{attrs:{placeholder:"请选择省"},on:{change:e.GET_City},model:{value:e.form.province,callback:function(t){e.$set(e.form,"province",t)},expression:"form.province"}},e._l(e.provinceList,function(e){return o("el-option",{key:e.id,attrs:{value:e.name,label:e.name}})})),o("el-select",{attrs:{placeholder:"请选择市"},on:{change:e.GET_area},model:{value:e.form.city,callback:function(t){e.$set(e.form,"city",t)},expression:"form.city"}},e._l(e.cityList,function(e){return o("el-option",{key:e.id,attrs:{value:e.name,label:e.name}})})),o("el-select",{attrs:{placeholder:"请选择区/县"},on:{change:e.GET_countyId},model:{value:e.form.county,callback:function(t){e.$set(e.form,"county",t)},expression:"form.county"}},e._l(e.areaList,function(e){return o("el-option",{key:e.id,attrs:{value:e.name,label:e.name}})}))],1),o("el-form-item",{attrs:{label:"详细地址",prop:"address"}},[o("el-input",{attrs:{placeholder:"输入街道名称及门牌号"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),o("el-form-item",{attrs:{label:"服务电话",prop:"serphone"}},[o("el-input",{attrs:{placeholder:"请输入服务电话"},model:{value:e.form.serphone,callback:function(t){e.$set(e.form,"serphone",t)},expression:"form.serphone"}})],1),o("el-form-item",{attrs:{label:"店铺简介",prop:"about"}},[o("el-input",{attrs:{type:"textarea",autosize:"",placeholder:"请输入内容"},model:{value:e.form.about,callback:function(t){e.$set(e.form,"about",t)},expression:"form.about"}})],1),o("el-form-item",{staticClass:"upload cft",attrs:{label:"店铺照片",prop:"upload"}},[o("div",{staticClass:"upload_item"},[o("upload",{attrs:{"on-success":e.uploadShopSuccess,"on-remove":e.uploadShopRemove}})],1),o("div",{staticClass:"upload_item"},[o("upload",{attrs:{"on-success":e.uploadShopSuccess,"on-remove":e.uploadShopRemove}})],1),o("div",{staticClass:"upload_item"},[o("upload",{attrs:{"on-success":e.uploadShopSuccess,"on-remove":e.uploadShopRemove}})],1)]),o("el-form-item",{staticClass:"upload cft",attrs:{label:"营业执照",prop:"upload"}},[o("div",{staticClass:"upload_item"},[o("upload",{attrs:{"on-success":e.uploadLicense,"on-remove":e.uploadLicenseRemove}})],1)]),1==e.shop_type?o("el-form-item",{attrs:{label:"提现卡号",prop:"account"}},[o("el-input",{attrs:{placeholder:"输入提现卡号"},model:{value:e.form.account,callback:function(t){e.$set(e.form,"account",t)},expression:"form.account"}})],1):e._e(),1==e.shop_type?o("el-form-item",{attrs:{label:"开户名",prop:"account_name"}},[o("el-input",{attrs:{placeholder:"输入开户名"},model:{value:e.form.account_name,callback:function(t){e.$set(e.form,"account_name",t)},expression:"form.account_name"}})],1):e._e(),1==e.shop_type?o("el-form-item",{attrs:{label:"开户行",prop:"branch"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择开户行"},model:{value:e.form.bank,callback:function(t){e.$set(e.form,"bank",t)},expression:"form.bank"}},e._l(e.BankList,function(e){return o("el-option",{key:e.id,attrs:{value:e.code,label:e.name}})}))],1):e._e(),1==e.shop_type?o("el-form-item",{attrs:{label:"所属分行",prop:"branch"}},[o("el-input",{attrs:{placeholder:"输入所属分行（例：石家庄支行）"},model:{value:e.form.branch,callback:function(t){e.$set(e.form,"branch",t)},expression:"form.branch"}})],1):e._e(),o("el-form-item",{attrs:{label:""}},[o("el-button",{staticClass:"Submit",attrs:{type:"primary",disabled:e.disabled},on:{click:function(t){e.Submit("form")}}},[e._v("提交")])],1)],1)],1)])},i=[],c=(o("7f7f"),o("20d6"),o("96cf"),o("1da1")),l=(o("2f62"),o("4362")),u=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"upload"},[o("el-upload",{attrs:{action:e.uploadUrl,"list-type":"picture-card",data:e.token,name:"image","on-success":e.onSuccess,"before-upload":e.beforeUpload,"on-remove":e.onRemove}},[o("i",{staticClass:"el-icon-plus"})]),o("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[o("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)},m=[],p={name:"upload",data:function(){return{dialogVisible:!1,dialogImageUrl:"",token:{token:window.sessionStorage.getItem("token")},imgList:[],fileList2:[{url:"http://pic27.nipic.com/20130331/9252150_140012316365_2.jpg"}]}},props:{onSuccess:Function,onRemove:Function,fileList:String},methods:{beforeUpload:function(e){console.log(e);var t="image/jpeg"===e.type||"image/png"===e.type||"image/jpg"===e.type,o=e.size/1024/1024<2;return t||this.$message.error("上传图片格式应为 jpeg/png/jpg!"),o||this.$message.error("上传图片大小不能超过 2MB!"),t&&o}},mounted:function(){console.log(this.uploadUrl)}},f=p,d=(o("ba01"),o("2877")),h=Object(d["a"])(f,u,m,!1,null,"21cc526c",null);h.options.__file="upload.vue";var b=h.exports,v={data:function(){return{BankList:[],provinceList:[],cityList:[],areaList:[],form:{company:1,leader:"",major:[],province:"",city:"",county:"",address:"",serphone:"",about:"",photo:[],license:"",county_id:"",account:"",account_name:"",bank:"",branch:""},disabled:!1,shop_type:window.sessionStorage.getItem("shop_type")}},components:{upload:b},methods:{getBank:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["P"])();case 2:t=e.sent,this.BankList=t;case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),init:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l["lb"])();case 3:t=e.sent,console.log(t),200==t.status&&(this.form.company=t.data.company,this.form.leader=t.data.leader),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:return e.prev=11,e.next=14,Object(l["hb"])();case 14:o=e.sent,200==o.status&&(this.provinceList=o.data),e.next=21;break;case 18:e.prev=18,e.t1=e["catch"](11),console.log(e.t1);case 21:case"end":return e.stop()}},e,this,[[0,8],[11,18]])}));return function(){return e.apply(this,arguments)}}(),GET_City:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){var o,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return o=this.finID(this.provinceList,t),this.form.city="",this.form.county="",e.next=5,Object(l["mb"])(o);case 5:a=e.sent,200==a.status&&(this.cityList=a.data);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),GET_area:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){var o,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return o=this.finID(this.cityList,t),this.form.county="",e.next=4,Object(l["mb"])(o);case 4:a=e.sent,200==a.status&&(console.log(a),this.areaList=a.data);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),GET_countyId:function(e){this.form.county_id=this.finID(this.areaList,e)},uploadShopSuccess:function(e,t){console.log(e),this.form.photo.push(e)},uploadShopRemove:function(e){var t=this.form.photo.findIndex(function(t){return t==e.response});this.form.photo.splice(t,1)},uploadLicense:function(e){this.form.license=e},uploadLicenseRemove:function(e){this.form.license=""},Submit:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){var o,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.disabled=!0,console.log(this.disabled),e.next=4,Object(l["Tb"])(this.form);case 4:o=e.sent,1==o.data.code?(a=this,this.$message({message:o.data.msg,type:"success",onClose:function(){var e=window.sessionStorage.getItem("shop_type");switch(e){case"1":a.$router.push("/Submit_Toexamine");break;case"2":a.$router.push("/Submit_Toexamine");break}a.disabled=!1}})):(this.$message.error(o.data.msg),this.disabled=!1),console.log(o);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),finID:function(e,t){var o=e.findIndex(function(e){return e.name==t});return e[o].id}},mounted:function(){this.init(),this.getBank()}},g=v,y=(o("5d01"),Object(d["a"])(g,s,i,!1,null,"59544808",null));y.options.__file="form.vue";var _=y.exports,k={name:"perfectInformation",components:{Head:n["a"],Form:_}},j=k,x=(o("1d7a"),Object(d["a"])(j,a,r,!1,null,"134b7e0a",null));x.options.__file="perfect_information.vue";t["default"]=x.exports},"1d7a":function(e,t,o){"use strict";var a=o("0393"),r=o.n(a);r.a},"5d01":function(e,t,o){"use strict";var a=o("a1c5"),r=o.n(a);r.a},"7f7f":function(e,t,o){var a=o("86cc").f,r=Function.prototype,n=/^\s*function ([^ (]*)/,s="name";s in r||o("9e1e")&&a(r,s,{configurable:!0,get:function(){try{return(""+this).match(n)[1]}catch(e){return""}}})},a1c5:function(e,t,o){},ba01:function(e,t,o){"use strict";var a=o("f075"),r=o.n(a);r.a},f075:function(e,t,o){}}]);
//# sourceMappingURL=perfect_information.bc418560.js.map