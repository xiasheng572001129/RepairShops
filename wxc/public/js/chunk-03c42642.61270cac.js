(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-03c42642"],{"002e":function(t,e,o){"use strict";var s=o("4fdd"),a=o.n(s);a.a},2482:function(t,e,o){"use strict";var s=o("a5de"),a=o.n(s);a.a},"4c15":function(t,e,o){"use strict";var s=o("706a"),a=o.n(s);a.a},"4fdd":function(t,e,o){},"706a":function(t,e,o){},a5de:function(t,e,o){},def7:function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"control"},[o("currentPage",{attrs:{id:201}}),o("div",{staticClass:"obd-head"},[o("div",{staticClass:"searcharea"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],attrs:{type:"text",placeholder:"产品名称/产品编号"},domProps:{value:t.input},on:{input:function(e){e.target.composing||(t.input=e.target.value)}}}),o("div",{on:{click:t.searchgo}},[t._v("搜索")])]),t._v("状态：\n    "),o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[o("el-option",{attrs:{label:"全部",value:""}}),o("el-option",{attrs:{label:"审核中",value:"0"}}),o("el-option",{attrs:{label:"已通过",value:"1"}}),o("el-option",{attrs:{label:"已驳回",value:"2"}})],1),t._v("   \n    产品种类：\n    "),o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.mold,callback:function(e){t.mold=e},expression:"mold"}},[o("el-option",{attrs:{label:"全部",value:""}}),o("el-option",{attrs:{label:"实物类",value:"0"}}),o("el-option",{attrs:{label:"服务项",value:"1"}})],1)],1),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.tableData,"header-cell-style":{background:"RGBA(215, 225, 230, 1)",height:"50px",color:"#383838","font-size":"16px"}}},[o("el-table-column",{attrs:{width:"220",align:"center",prop:"pnum",label:"产品编号"}}),o("el-table-column",{attrs:{align:"center",prop:"mold",label:"产品种类"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.mold?o("p",[t._v("服务项")]):o("p",[t._v("实物产品")])]}}])}),o("el-table-column",{attrs:{align:"center",prop:"name",label:"产品名称"}}),o("el-table-column",{attrs:{align:"center",prop:"virtualnum",label:"已售数量"}}),o("el-table-column",{attrs:{align:"center",prop:"stocknum",label:"库存数量"}}),o("el-table-column",{attrs:{align:"center",prop:"s_state",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.s_state&&1==e.row.status?o("p",{staticStyle:{color:"RGBA(0, 209, 94, 1)"}},[t._v("上架")]):t._e(),0==e.row.s_state&&1==e.row.status?o("p",{staticStyle:{color:"RGBA(255, 40, 40, 1)"}},[t._v("下架")]):t._e(),2==e.row.status?o("p",{staticStyle:{color:"RGBA(255, 40, 40, 1)"}},[t._v("被驳回")]):t._e(),0==e.row.status?o("p",{staticStyle:{color:"RGBA(50, 55, 60, 1)"}},[t._v("审核中")]):t._e()]}}])}),o("el-table-column",{attrs:{prop:"id",width:"400",align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{class:0==e.row.status||1==e.row.s_state||2==e.row.s_state||3==e.row.s_state?"btnColor":"",attrs:{disabled:0==e.row.status||1==e.row.s_state||2==e.row.s_state||3==e.row.s_state,type:"success",size:"small"},on:{click:function(o){t.putaway(e.row.id)}}},[t._v("上架")]),o("el-button",{class:0==e.row.status||0==e.row.s_state||2==e.row.s_state||3==e.row.s_state?"btnColor":"",attrs:{disabled:0==e.row.status||0==e.row.s_state||2==e.row.s_state||3==e.row.s_state,type:"danger",size:"small"},on:{click:function(o){t.soldOut(e.row.id)}}},[t._v("下架")]),o("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(o){t.updataPro(e.row.id)}}},[t._v("编辑")]),o("el-button",{attrs:{type:"info",size:"small"},on:{click:function(o){t.Delete(e.row.id)}}},[t._v("删除")])]}}])})],1),o("el-pagination",{staticStyle:{"margin-top":"30px"},attrs:{background:"",layout:"prev, pager, next","page-count":t.pageCount,align:"center"},on:{"prev-click":t.prev,"next-click":t.next,"current-change":t.current}}),o("el-dialog",{staticClass:"updataDialog",attrs:{visible:t.updataDialogVisible,width:"1000px",center:"","before-close":t.handleClose},on:{"update:visible":function(e){t.updataDialogVisible=e}}},[o("updata-pro",{ref:"child",attrs:{goods:t.goods},on:{closeDialog:t.handleClose}})],1)],1)},a=[],n=o("ade3"),i=o("18f8"),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[s("div",{staticClass:"name"},[t._v("产品名称：\n    "),s("div",{staticClass:"input"},[s("el-input",{attrs:{disabled:"",placeholder:"请输入内容"},model:{value:t.goods.product.name,callback:function(e){t.$set(t.goods.product,"name",e)},expression:"goods.product.name"}})],1)]),s("div",{staticClass:"name"},[t._v("产品种类：\n    "),s("div",{staticClass:"input"},[s("el-input",{attrs:{disabled:"",placeholder:"请输入内容"},model:{value:0===t.goods.product.type?"实物产品":1==t.goods.product.type?"服务项":"",callback:function(e){t.$set(0===t.goods.product.type?"实物产品":t.goods.product,"type == 1? '服务项':''",e)},expression:"goods.product.type === 0 ? '实物产品':goods.product.type == 1? '服务项':''"}})],1)]),s("div",{staticClass:"content_serveItem"},[s("table",{attrs:{width:"620"}},[s("tr",[0!==t.goods.specId[0]?s("td",[1==t.goods.specId[0]?s("p",[t._v("尺寸")]):t._e(),2==t.goods.specId[0]?s("p",[t._v("颜色")]):t._e(),3==t.goods.specId[0]?s("p",[t._v("升数")]):t._e(),4==t.goods.specId[0]?s("p",[t._v("厚度")]):t._e()]):t._e(),0!==t.goods.specId[1]?s("td",[1==t.goods.specId[1]?s("p",[t._v("尺寸")]):t._e(),2==t.goods.specId[1]?s("p",[t._v("颜色")]):t._e(),3==t.goods.specId[1]?s("p",[t._v("升数")]):t._e(),4==t.goods.specId[1]?s("p",[t._v("厚度")]):t._e()]):t._e(),s("td",[t._v("已售数量")]),s("td",[t._v("库存数量")]),s("td",[t._v("市场价格")]),s("td",[t._v("活动价格")])]),t._l(t.goods.proDet,function(e,a){return s("tr",[0!==t.goods.specId[0]?s("td",[s("el-input",{attrs:{placeholder:"请输入"},model:{value:e.spec1,callback:function(o){t.$set(e,"spec1",o)},expression:"item.spec1"}})],1):t._e(),0!==t.goods.specId[1]?s("td",[s("el-input",{attrs:{placeholder:"请输入"},model:{value:e.spec2,callback:function(o){t.$set(e,"spec2",o)},expression:"item.spec2"}})],1):t._e(),s("td",[s("el-input",{attrs:{type:"number",placeholder:"输入数量"},model:{value:e.sold,callback:function(o){t.$set(e,"sold",o)},expression:"item.sold"}})],1),s("td",[s("el-input",{attrs:{type:"number",placeholder:"输入数量"},model:{value:e.stock,callback:function(o){t.$set(e,"stock",o)},expression:"item.stock"}})],1),s("td",[s("el-input",{attrs:{type:"number",placeholder:"输入价格"},model:{value:e.price,callback:function(o){t.$set(e,"price",o)},expression:"item.price"}})],1),s("td",[s("el-input",{attrs:{type:"number",placeholder:"输入价格"},model:{value:e.discount,callback:function(o){t.$set(e,"discount",o)},expression:"item.discount"}}),1!=t.goods.product.type?s("img",{staticClass:"removeObj",attrs:{src:o("de97"),title:"移除该规格产品"},on:{click:function(e){t.removeObj(a)}}}):t._e()],1)])}),1!=t.goods.product.type?s("el-button",{staticClass:"addObj",attrs:{title:"增加规格"},on:{click:t.addObj}},[t._v("＋")]):t._e()],2)]),s("div",{staticClass:"uploadImg"},[s("p",[t._v("产品图片:")]),s("img",{staticClass:"uploadBox resPic",attrs:{src:t.goods.product.img,alt:""}})]),t._m(0),s("div",{staticClass:"name"},[s("el-button",{staticClass:"submitProBtn",attrs:{type:"primary"},on:{click:t.submitPro}},[t._v("上传")])],1)])},l=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"text"},[o("p",[t._v("产品描述:")]),o("div",{attrs:{id:"fuwenben"}})])}],d=o("be94"),r=o("e443"),u={data:function(){return{editor:""}},props:["goods"],watch:{goods:function(){this.editor.txt.html(this.goods.product.detail)}},methods:{submitPro:function(){var t=this,e=this,o=Object(d["a"])({},e.goods.product,{desc:e.goods.product.detail}),s=e.goods.specNum,a=e.goods.specId,n=e.goods.proDet,i=e.goods.product.ifsigning;Object(r["b"])("Goods/alterGoods",{product:o,specNum:s,specId:a,proDet:n,ifsigning:i}).then(function(e){1==e.data.code?(t.$message({message:e.data.msg,type:"success"}),t.$emit("closeDialog")):t.$message({message:e.data.msg,type:"warning"})})},addObj:function(){this.goods.proDet.push({spec_id:"",spec1:"",spec2:"",sold:"",stock:"",price:"",discount:""})},removeObj:function(t){var e=this;this.$alert("确定要删除该规格产品吗",{confirmButtonText:"确定",cancelButtonText:"取消",showCancelButton:!0,callback:function(o){if("confirm"==o){for(var s,a=0;a<e.goods.proDet.length;a++)e.goods.proDet[t]==e.goods.proDet[a]&&(s=e.goods.proDet[t].spec_id);Object(r["b"])("Goods/del_detail",{spec_id:s}).then(function(o){1==e.goods.proDet.length?e.goods.proDet=[{spec_id:"",spec1:"",spec2:"",sold:"",stock:"",price:"",discount:""}]:e.goods.proDet.splice(t,1)})}}})},clearGoods:function(){this.goods={}}},mounted:function(){var t=this,e=this,s=o("1a0b");this.editor=new s("#fuwenben"),this.editor.customConfig.menus=["foreColor","backColor","head","bold","italic","underline","justify","quote","emoticon","image"],this.editor.customConfig.onchange=function(e){t.goods.product.detail=e},this.editor.customConfig.uploadImgParams={token:e.token},this.editor.customConfig.uploadImgServer="".concat(this.baseUrl,"Goods/images"),this.editor.customConfig.uploadFileName="file",this.editor.customConfig.uploadImgMaxSize=2097152,this.editor.customConfig.uploadImgMaxLength=5,this.editor.customConfig.uploadImgHooks={customInsert:function(t,e,o){t(e)}},this.editor.customConfig.uploadImgTimeout=5e4,this.editor.create()}},p=u,g=(o("4c15"),o("002e"),o("2877")),m=Object(g["a"])(p,c,l,!1,null,"27679a06",null);m.options.__file="updataPro.vue";var f=m.exports,h={components:{currentPage:i["a"],updataPro:f},data:function(){var t;return t={updataDialogVisible:!1,goods:{},seval:"all",input:"",mold:"",loading:!1,tableData:[],status:"",page:1,pageCount:0},Object(n["a"])(t,"loading",!0),Object(n["a"])(t,"ifsigning",1),t},watch:{mold:function(){this.searchgo()},status:function(){this.searchgo()}},mounted:function(){this.searchgo()},methods:{handleClose:function(t){this.updataDialogVisible=!1,this.searchgo()},updataPro:function(t){var e=this,o=this;Object(r["b"])("Goods/goodsDetail",{id:t}).then(function(t){1==t.data.code&&(o.goods=t.data.data,e.updataDialogVisible=!0)})},interface:function(){var t=this;Object(r["b"])("Goods/index",{ifsigning:1,page:this.page}).then(function(e){t.tableData=e.data.data.list,t.pageCount=e.data.data.rows,t.loading=!1}).catch(function(t){alert(t)})},prev:function(t){this.page=t,this.changePage()},next:function(t){this.page=t,this.changePage()},current:function(t){this.page=t,this.changePage()},changePage:function(){this.loading=!0,this.Interface()},putaway:function(t){var e=this;this.loading=!0,Object(r["b"])("Goods/putaway",{id:t,ifsigning:1}).then(function(t){e.$message({message:"操作成功",type:"success"}),e.searchgo()}).catch(function(t){alert(t)})},soldOut:function(t){var e=this;this.loading=!0,Object(r["b"])("Goods/soldout",{id:t,ifsigning:1}).then(function(t){e.$message({message:"操作成功",type:"success"}),e.searchgo()}).catch(function(t){alert(t)})},Delete:function(t){var e=this;this.$confirm("此操作将删除产品及该产品下所有规格, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(r["b"])("Goods/del",{id:t}).then(function(t){e.$message({type:"success",message:"删除成功!"}),e.searchgo()}).catch(function(t){alert(t)})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},searchgo:function(){var t=this;Object(r["b"])("Goods/psearch",{value:this.input,status:this.status,mold:this.mold,ifsigning:1}).then(function(e){t.tableData=e.data.data.list,t.pageCount=e.data.data.rows,t.loading=!1}).catch(function(t){alert(t)})}}},v=h,b=(o("2482"),Object(g["a"])(v,s,a,!1,null,"686822d2",null));b.options.__file="control.vue";e["default"]=b.exports}}]);
//# sourceMappingURL=chunk-03c42642.61270cac.js.map