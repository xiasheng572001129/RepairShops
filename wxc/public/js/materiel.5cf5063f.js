(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["materiel"],{"060d":function(t,e,a){"use strict";var n=a("876f"),r=a.n(n);r.a},"0af8":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAABqElEQVRIS+2UMYxNURCGvy8KxWokVApBZSM0EgnZio2GiGyhIoSEUiXbaal0NCREpVAIqt1OSDZRCEKDIDoSDYXGLye5kpe37757rl1bvSnPnJnvzH9mRtbYXGMeE+BIxZM8KQ51pu+X9JI0yQbgCHCzAZ0DHqk/asHVwCSzwF1gCXjZAHYD+4CT6kINtAqYZBooMp5QFwcTJzkE3ANm1Ddd0Fpgqey1enVUwiTzwLR6arWAH4BZ9X0LcAewoG5fLeBXYKf6rQW4CXirbp4AO5smSbnzE9io/mqRdD3wHZhSM07WGuAu4IFaGqPVkrwDjquvVgq8BXxRL3cAi3+bevqfgUnOA5eAPV3rK8kU8AK4pl5vg7ZKmuQwUAIPqh+72r34k2wFyia6qD4eFTMOeBa4UJZzDWzgzlHghlq+YpmNA64DzgBbmqi9QKng/lCWOeAT8Lw5/wzcUX/3Ag5fTlK69CmwXy2rrkhYVtkz4EDb2hvO0zkWgwFJSgdeKWPSnB8D5tXbtbL3AjZVlUrLPxV7WFvZ3wf1BtZW0nssVpp4AvxfCi7L+weBFZwdBpV1eQAAAABJRU5ErkJggg=="},"0cdc":function(t,e,a){"use strict";var n=a("b55d"),r=a.n(n);r.a},"11e9":function(t,e,a){var n=a("52a7"),r=a("4630"),i=a("6821"),s=a("6a99"),l=a("69a8"),o=a("c69a"),c=Object.getOwnPropertyDescriptor;e.f=a("9e1e")?c:function(t,e){if(t=i(t),e=s(e,!0),o)try{return c(t,e)}catch(a){}if(l(t,e))return r(!n.f.call(t,e),t[e])}},"155d":function(t,e,a){"use strict";var n=a("755f"),r=a.n(n);r.a},"18f8":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"currentPage"},[a("div",{staticClass:"current cft"},[a("ul",{staticClass:"cft"},t._l(this.$route.meta.current,function(e){return a("router-link",{attrs:{tag:"li",to:e.path}},[t._v("\n                "+t._s(e.name)+"\n            ")])})),a("p",{staticClass:"col-64696E"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"遇到问题 ？点击查看帮助文档",placement:"left"}},[a("el-button",{attrs:{type:"text"},on:{click:t.Help_File}},[t._v("帮助文档")])],1)],1)]),a("div",{ref:"laybox",staticClass:"doc-laybox",staticStyle:{display:"none"}},[a("div",{domProps:{innerHTML:t._s(t.laycontent)}})])])},r=[],i=(a("96cf"),a("1da1")),s=a("4362"),l={data:function(){return{laycontent:""}},props:["id"],methods:{Help_File:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log(this.id),t.prev=1,t.next=4,Object(s["Q"])({d_id:this.id});case 4:e=t.sent,1==e.code&&(console.log(e.data.content),this.laycontent=window.etos(e.data.content)),this,layer.open({type:1,title:"帮助文档",content:jQuery(".doc-laybox")}),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),console.log(t.t0);case 13:case"end":return t.stop()}},t,this,[[1,10]])}));return function(){return t.apply(this,arguments)}}()}},o=l,c=(a("155d"),a("630b"),a("2877")),u=Object(c["a"])(o,n,r,!1,null,"3fdb52ac",null);u.options.__file="currentPage.vue";e["a"]=u.exports},"1a4b":function(t,e,a){"use strict";var n=a("77cb"),r=a.n(n);r.a},"1f1c":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"paging"},[a("el-pagination",{attrs:{background:"","page-count":t.pageCount,layout:"prev,pager,next,jumper,total,->",small:""},on:{"current-change":t.currentChange}})],1)},r=[],i=(a("c5f6"),{props:{pageCount:Number||String,currentChange:Function}}),s=i,l=(a("1a4b"),a("2877")),o=Object(l["a"])(s,n,r,!1,null,"22d604b5",null);o.options.__file="paging.vue";e["a"]=o.exports},"214f":function(t,e,a){"use strict";var n=a("32e9"),r=a("2aba"),i=a("79e5"),s=a("be13"),l=a("2b4c");t.exports=function(t,e,a){var o=l(t),c=a(s,o,""[t]),u=c[0],d=c[1];i(function(){var e={};return e[o]=function(){return 7},7!=""[t](e)})&&(r(String.prototype,t,u),n(RegExp.prototype,o,2==e?function(t,e){return d.call(t,this,e)}:function(t){return d.call(t,this)}))}},"285a":function(t,e,a){"use strict";var n=a("977f"),r=a.n(n);r.a},"386d":function(t,e,a){a("214f")("search",1,function(t,e,a){return[function(a){"use strict";var n=t(this),r=void 0==a?void 0:a[e];return void 0!==r?r.call(a,n):new RegExp(a)[e](String(n))},a]})},"3ece":function(t,e,a){},"417e":function(t,e,a){"use strict";var n=a("87a0"),r=a.n(n);r.a},"42df":function(t,e,a){"use strict";var n=a("b6ac"),r=a.n(n);r.a},"44cf":function(t,e,a){},4753:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bottomBox"},[a("div",{staticClass:"leftChart"},[a("div",{staticClass:"chartTitle"},[a("selectLink")],1),a("pieChart",{attrs:{pieData:t.fundOpt},on:{clickChart:t.clickChart}})],1),a("div",{staticClass:"rightChart"},[a("div",{staticClass:"chartTitle"},[a("span",[t._v("物料补充")]),a("el-dropdown",{on:{command:t.selectInterval}},[a("span",{staticClass:"el-dropdown-link"},[t._v("\n          "+t._s(t.selectName)),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:'{"value":"1","name":"日"}'}},[t._v("日")]),a("el-dropdown-item",{attrs:{command:'{"value":"2","name":"月"}'}},[t._v("月")]),a("el-dropdown-item",{attrs:{command:'{"value":"3","name":"近三天"}'}},[t._v("近三天")]),a("el-dropdown-item",{attrs:{command:'{"value":"4","name":"近七天"}'}},[t._v("近七天")]),a("el-dropdown-item",{attrs:{command:'{"value":"6","name":"自定义"}'}},[t._v("自定义")])],1)],1),a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:t.custom,expression:"custom"}],attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerFastOptions,"value-format":"yyyy-MM-dd HH:mm:ss","default-time":["00:00:00","23:59:59"]},on:{change:t.reloadData},model:{value:t.intervalTime,callback:function(e){t.intervalTime=e},expression:"intervalTime"}})],1),a("lineChart",{attrs:{lineData:t.technicianOpt}})],1)])},r=[],i=(a("96cf"),a("1da1")),s=(a("7f7f"),a("f30c")),l=a("8120"),o=a("8556"),c=a("4362"),u={data:function(){return{selectName:"日",selectValue:"1",custom:!1,lineData:"",pieData:{detail:[{name:"",value:""}],total:[{name:"",value:""}]},intervalTime:"",pickerFastOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.$emit("pick",[a,e])}}]}}},computed:{fundOpt:function(){var t=this,e={tooltip:{trigger:"item",formatter:"{b} : {c}"},calculable:!1,series:[{tooltip:{trigger:"item",formatter:"{b} : {c}"},type:"pie",hoverAnimation:!1,selectedOffset:0,legendHoverLink:!1,selectedMode:"single",radius:[0,"30%"],color:["#00FF38"],label:{position:"center",formatter:"{b}\n{c}",color:"#004F11",fontSize:12,lineHeight:18,rich:{}},labelLine:{normal:{show:!0}},data:t.pieData.total},{name:"访问来源",type:"pie",radius:["40%","70%"],color:["#801FDE","#FF6E6E","#2B60FF","#FF3CCD"],label:{normal:{position:"inside",formatter:"{d}%",borderWidth:1,rich:{a:{color:"#333",lineHeight:22,align:"center"},abg:{backgroundColor:"#333",width:"100%",align:"right",height:22,borderRadius:[4,4,0,0]},hr:{borderColor:"#333",width:"100%",borderWidth:.3,height:0},b:{fontSize:16,lineHeight:33},per:{color:"#eee",backgroundColor:"#333",padding:[2,4],borderRadius:2}}}},data:t.pieData.detail}]};return e},technicianOpt:function(){var t=this,e={textStyle:{color:"#fff"},legend:{show:!1},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},grid:{left:"0",right:"5%",bottom:"5%",top:"20%",containLabel:!0},xAxis:{axisLabel:{show:!0,interval:0,rotate:45},axisTick:{show:!1},axisLine:{lineStyle:{color:"#014D8B"}},splitLine:{show:!0,lineStyle:{color:"#014D8B"}},color:"#FFF",type:"category",data:t.lineData.day},yAxis:{axisTick:{show:!1},axisLine:{lineStyle:{color:"#014D8B"}},splitLine:{show:!0,lineStyle:{color:"#014D8B"}},type:"value"},series:[{color:"#00FF38",name:"物料补充",type:"line",itemStyle:{normal:{lineStyle:{color:"#00ff38",width:4}}},lineStyle:{color:"#00ff38",width:4},areaStyle:{normal:{opacity:0}},data:t.lineData.data}]};return e}},components:{pieChart:o["a"],lineChart:l["a"],selectLink:s["a"]},methods:{clickChart:function(t){if("总补充"==t.name||"30粘度"==t.name||"40粘度"==t.name)return!1;0==t.componentIndex?this.getSum():0==t.dataIndex?this.getMaAllNum1():1==t.dataIndex?this.getMaAllNum2():2==t.dataIndex?this.getMaAllNum3():3==t.dataIndex&&this.getMaAllNum4()},selectInterval:function(t){t=JSON.parse(t),this.selectName=t.name,this.selectValue=t.value,6!=t.value?(this.intervalTime="",this.custom=!1,this.embody()):this.custom=!0},reloadData:function(){this.embody()},embody:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.intervalTime&&this.intervalTime[0]&&this.intervalTime[1]?(e=this.intervalTime[0],a=this.intervalTime[1]):(e="",a=""),t.next=3,Object(c["O"])(this.selectValue,e,a);case 3:n=t.sent,1==n.data.code?this.lineData=n.data.data:this.$message({message:n.data.msg,type:"warning"});case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getSum:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["zb"])();case 2:e=t.sent,1==e.data.code?this.pieData=e.data.data:this.$message({message:e.data.msg,type:"warning"});case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getMaAllNum1:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["lb"])();case 2:e=t.sent,1==e.data.code?this.pieData=e.data.data:this.$message({message:e.data.msg,type:"warning"});case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getMaAllNum2:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["mb"])();case 2:e=t.sent,1==e.data.code?this.pieData=e.data.data:this.$message({message:e.data.msg,type:"warning"});case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getMaAllNum3:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["nb"])();case 2:e=t.sent,1==e.data.code?this.pieData=e.data.data:this.$message({message:e.data.msg,type:"warning"});case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getMaAllNum4:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["ob"])();case 2:e=t.sent,1==e.data.code?this.pieData=e.data.data:this.$message({message:e.data.msg,type:"warning"});case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},mounted:function(){this.getSum(),this.embody()}},d=u,p=(a("dbf2"),a("2877")),m=Object(p["a"])(d,n,r,!1,null,"06f51ece",null);m.options.__file="materielAdd.vue";e["default"]=m.exports},"52a7":function(t,e){e.f={}.propertyIsEnumerable},5528:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"materiel"},[a("Small_header"),a("currentPage",{staticClass:"currentPage",attrs:{id:191}}),a("Main",{tag:"component"})],1)},r=[],i=a("a567"),s=a("18f8"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"form"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.form}},[a("el-form-item",{staticClass:"search"},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"输入申请编号"},model:{value:t.form.search,callback:function(e){t.$set(t.form,"search",e)},expression:"form.search"}},[a("el-button",{attrs:{slot:"append"},on:{click:function(e){t.search()}},slot:"append"},[t._v("搜索")])],1)],1),a("el-form-item",{attrs:{label:"申请时间"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd HH:mm:ss"},on:{change:function(e){t.search()}},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}})],1)],1)],1),a("div",{staticClass:"table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"max-height":t.screenHeight}},[a("el-table-column",{attrs:{prop:"apply_sn",label:"申请编号",align:"center"}}),a("el-table-column",{attrs:{prop:"create_time",label:"申请时间",align:"center"}}),a("el-table-column",{attrs:{prop:"audit_time",label:"审核时间",align:"center"}}),a("el-table-column",{attrs:{prop:"address",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(1==e.row.audit_status?"已发货":"未发货"))])]}}])}),a("el-table-column",{attrs:{label:"物料详情",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.details(e.row)}}},[t._v("查看")])]}}])}),a("el-table-column",{attrs:{prop:"address",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"small",loading:t.loading[e.$index]},on:{click:function(a){t.ReceivingGoods(e.row,e.$index)}}},[t._v("确认收货")])]}}])}),a("el-table-column",{attrs:{prop:"sf",label:"是否延迟",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(0==e.row.if_delay?"否":"是"))])]}}])})],1)],1),a("el-dialog",{staticClass:"details",attrs:{title:"物料详情",visible:t.detailsDialogVisible,width:"50%",center:""},on:{"update:visible":function(e){t.detailsDialogVisible=e}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData2,border:""}},[a("el-table-column",{attrs:{prop:"apply_sn",label:"申请编号",align:"center"}}),a("el-table-column",{attrs:{prop:"create_time",label:"申请时间",align:"center"}}),a("el-table-column",{attrs:{prop:"audit_time",label:"审核时间",align:"center"}})],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData3,border:""}},[a("el-table-column",{attrs:{prop:"materiel",label:"申请物料",align:"center"}}),a("el-table-column",{attrs:{prop:"remarks",label:"缺失数量(升)",align:"center"}}),a("el-table-column",{attrs:{prop:"num",label:"申请数量",align:"center"}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.confirmgGoods}},[t._v("确认收货")])],1)],1),a("paging",{tag:"component",attrs:{pageCount:t.pageCount,currentChange:t.currentChange,currentPage:t.currentPage,sizeChange:t.sizeChange}})],1)},o=[],c=(a("386d"),a("96cf"),a("1da1")),u=a("4362"),d=a("1f1c"),p={data:function(){return{currentPage:1,pageCount:1,form:{search:"",date:""},tableData:[],tableData2:[],tableData3:[],screenHeight:window.innerHeight-270,detailsDialogVisible:!1,materielID:"",loading:[]}},components:{paging:d["a"]},computed:{ApplyTime:function(){return this.form.date instanceof Array?{startTime:this.form.date[0],endTime:this.form.date[1]}:{startTime:"",endTime:""}}},methods:{init:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["Mb"])({value:this.form.search,startTime:this.ApplyTime.startTime,endTime:this.ApplyTime.endTime,page:this.currentPage});case 2:e=t.sent,1==e.data.code?(this.pageCount=e.data.data.rows,this.currentPage>this.pageCount&&(this.currentPage=this.pageCount),this.tableData=e.data.data.list):(this.tableData=[],this.pageCount=1);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),ReceivingGoods:function(t,e){var a=this;this.pageCount>1&&this.currentPage==this.pageCount&&this.tableData.length<=1&&(this.currentPage-=1),this.$confirm("您确定要收货吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.request(t.id,e)}).catch(function(){})},details:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(e){var a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.detailsDialogVisible=!0,this.materielID=e.id,t.next=4,Object(u["K"])({id:e.id});case 4:a=t.sent,1==a.data.code&&(n=a.data.data,this.tableData2=[{apply_sn:n.apply_sn,create_time:n.create_time,audit_time:n.audit_time}],this.tableData3=JSON.parse(n.detail),console.log(this.tableData3));case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),confirmgGoods:function(){this.request(this.materielID)},request:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(e,a){var n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loading[a]=!0,t.next=3,Object(u["D"])({id:e});case 3:n=t.sent,this.loading[a]=!1,1==n.data.code?(r=this,this.init(),this.$message({message:n.data.msg,type:"success",duration:1500,onClose:function(){r.detailsDialogVisible=!1,r.$store.commit("CHANGE_NUMBER","material")}})):this.$message.error(n.data.msg);case 6:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}(),search:function(){this.currentPage=1,this.pageCount=1,this.init()},currentChange:function(t){this.currentPage=t,this.init()},sizeChange:function(t){console.log(123)}},mounted:function(){this.init();var t=this;window.onresize=function(){return function(){t.screenHeight=window.innerHeight-370}()}}},m=p,_=(a("5aff"),a("2877")),h=Object(_["a"])(m,l,o,!1,null,"6eec07f6",null);h.options.__file="main.vue";var f=h.exports,g={components:{Small_header:i["a"],currentPage:s["a"],Main:f}},v=g,b=(a("5f79"),Object(_["a"])(v,n,r,!1,null,"955f45b8",null));b.options.__file="materiel.vue";e["default"]=b.exports},"591c":function(t,e,a){},"5aff":function(t,e,a){"use strict";var n=a("88af"),r=a.n(n);r.a},"5dbc":function(t,e,a){var n=a("d3f4"),r=a("8b97").set;t.exports=function(t,e,a){var i,s=e.constructor;return s!==a&&"function"==typeof s&&(i=s.prototype)!==a.prototype&&n(i)&&r&&r(t,i),t}},"5f79":function(t,e,a){"use strict";var n=a("ddb4"),r=a.n(n);r.a},"630b":function(t,e,a){"use strict";var n=a("dd47"),r=a.n(n);r.a},"719d":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"materiel"},[a("div",{staticClass:"viewMain"},[a("div",{staticClass:"tabChange"},[a("div",{class:[1==t.currentTab?"second col-32373C tabActive":"","first col-32373C"],on:{click:function(e){t.tabChange(1)}}},[t._v("油品库存状态")]),a("div",{class:[2==t.currentTab?"second col-32373C tabActive":"","first col-32373C"],on:{click:function(e){t.tabChange(2)}}},[t._v("油品补充记录")]),a("div",{class:[3==t.currentTab?"second col-32373C tabActive":"","first col-32373C"],on:{click:function(e){t.tabChange(3)}}},[t._v("机滤/活动产品库存")]),a("div",{class:[4==t.currentTab?"second col-32373C tabActive":"","first col-32373C"],on:{click:function(e){t.tabChange(4)}}},[t._v("机滤/活动产品补充记录")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.currentTab,expression:"currentTab == 1"}],staticClass:"firstBody"},t._l(t.oilData,function(e){return a("div",{staticClass:"oilItem"},[a("img",{attrs:{src:e.img,alt:""}}),a("div",{staticClass:"oilDet"},[a("span",{staticClass:"oilName col-32373C"},[t._v(t._s(e.name))]),a("table",{staticClass:"detTable"},[a("tr",[a("td",[t._v("期初授信")]),a("td",[t._v(t._s(e.ration))])]),a("tr",[a("td",[t._v("物料库存")]),a("td",[t._v(t._s(e.stock))])]),a("tr",[a("td",[t._v("结余")]),a("td",[t._v(t._s(e.percentum)+"%")])])])]),1==e.status?a("el-button",{staticClass:"addOil",attrs:{type:"primary"},on:{click:t.materialWarn}},[t._v("补充物料")]):t._e()],1)})),a("div",{directives:[{name:"show",rawName:"v-show",value:2==t.currentTab,expression:"currentTab == 2"}],staticClass:"secondBody"},[a("el-form",{ref:"form",staticClass:"filterCondition demo-form-inline",attrs:{inline:!0,"label-width":"80px"}},[a("el-input",{staticStyle:{width:"420px","margin-left":"30px"},attrs:{placeholder:"输入订单编号"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},[a("el-button",{staticClass:"search",staticStyle:{width:"120px"},attrs:{slot:"append",type:"primary"},on:{click:t.supplyRecord},slot:"append"},[t._v("搜索")])],1),a("el-form-item",{staticStyle:{"margin-bottom":"0",width:"520px","margin-left":"30px"},attrs:{label:"申请时间"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerFastOptions,"value-format":"yyyy-MM-dd HH:mm:ss"},on:{change:t.reloadData},model:{value:t.intervalTime,callback:function(e){t.intervalTime=e},expression:"intervalTime"}})],1),a("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"状态"}},[a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择"},on:{change:t.reloadData},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[a("el-option",{attrs:{label:"待发货",value:"0"}}),a("el-option",{attrs:{label:"已发货",value:"1"}}),a("el-option",{attrs:{label:"已完成",value:"2"}}),a("el-option",{attrs:{label:"已取消",value:"3"}})],1)],1)],1),a("el-table",{attrs:{data:t.tableData,"header-cell-style":{background:"#D7E1E6",color:"#32373C"}}},[a("el-table-column",{attrs:{prop:"apply_sn",label:"申请编号",align:"center"}}),a("el-table-column",{attrs:{prop:"create_time",label:"申请时间",align:"center"}}),a("el-table-column",{attrs:{prop:"audit_time",label:"审核时间",align:"center"}}),a("el-table-column",{attrs:{prop:"audit_status",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.audit_status?a("span",[t._v("待发货")]):t._e(),1==e.row.audit_status?a("span",[t._v("已发货")]):t._e(),2==e.row.audit_status?a("span",[t._v("已完成")]):t._e(),3==e.row.audit_status?a("span",[t._v("已取消")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"id",label:"物料详情",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{on:{click:function(a){t.orderDet(e.row.id)}}},[t._v("查看")])]}}])}),a("el-table-column",{attrs:{prop:"reason,id,audit_status,mold",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.audit_status?a("el-button",{attrs:{disabled:2==e.row.mold},on:{click:function(a){t.withdrawDialogVisible=!0,t.seasonId=e.row.id}}},[t._v("取消申请")]):t._e(),2==e.row.audit_status?a("span",{staticClass:"col-32373C"},[t._v("---")]):t._e(),3==e.row.audit_status?a("span",{staticClass:"col-FF2828",on:{click:function(a){t.previewDialogVisible=!0,t.resReason=e.row.reason}}},[t._v("取消理由")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"if_delay",label:"是否延迟",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.if_delay?a("span",[t._v("延迟")]):t._e(),0==e.row.if_delay?a("span",[t._v("否")]):t._e()]}}])})],1),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","current-page":t.currentPage,"page-count":t.totalPage},on:{"current-change":t.supplyRecord,"update:currentPage":function(e){t.currentPage=e}}})],1),3==t.currentTab?a("div",{staticClass:"firstBody"},t._l(t.FilterData,function(e,n){return a("div",{key:n,staticClass:"oilItem"},[a("img",{attrs:{src:e.photo,alt:""}}),a("div",{staticClass:"oilDet"},[a("span",{staticClass:"oilName col-32373C"},[t._v(t._s(e.name))]),a("table",{staticClass:"detTable"},[a("tr",[a("td",[t._v("期初库存")]),a("td",[t._v(t._s(e.ration))])]),a("tr",[a("td",[t._v("剩余库存")]),a("td",[t._v(t._s(e.stock))])]),a("tr",[a("td",[t._v("结余")]),a("td",[t._v(t._s(e.percent)+"%")])])]),a("div",{staticClass:"supplement"},[1==t.FilterData[0].warning_status?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.ApplySupplement()}}},[t._v("申请补充")]):t._e()],1)])])})):t._e(),4==t.currentTab?a("div",{staticClass:"secondBody"},[a("el-form",{ref:"form",staticClass:"filterCondition demo-form-inline",attrs:{inline:!0,"label-width":"80px"}},[a("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"类型"}},[a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择"},on:{change:t.filterHandleList},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[a("el-option",{attrs:{label:"机滤",value:"1"}}),a("el-option",{attrs:{label:"活动产品",value:"2"}})],1)],1),a("el-form-item",{staticStyle:{"margin-bottom":"0",width:"520px","margin-left":"30px"},attrs:{label:"申请时间"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerFastOptions,"value-format":"yyyy-MM-dd HH:mm:ss"},on:{change:t.filterHandleList},model:{value:t.intervalTime,callback:function(e){t.intervalTime=e},expression:"intervalTime"}})],1),a("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"状态"}},[a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择"},on:{change:t.filterHandleList},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[a("el-option",{attrs:{label:"已发货",value:"1"}}),a("el-option",{attrs:{label:"已完成",value:"2"}})],1)],1)],1),a("el-table",{attrs:{data:t.filterHandleData,"header-cell-style":{background:"#D7E1E6",color:"#32373C"}}},[a("el-table-column",{attrs:{prop:"apply_sn",label:"申请编号",align:"center"}}),a("el-table-column",{attrs:{prop:"create_time",label:"申请时间",align:"center"}}),a("el-table-column",{attrs:{prop:"type",label:"类型",align:"center"}}),a("el-table-column",{attrs:{prop:"audit_status",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.audit_status?a("span",[t._v("待发货")]):t._e(),1==e.row.audit_status?a("span",[t._v("已发货")]):t._e(),2==e.row.audit_status?a("span",[t._v("已完成")]):t._e(),3==e.row.audit_status?a("span",[t._v("已取消")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"count_num",label:"补充数量",align:"center"}}),a("el-table-column",{attrs:{prop:"mold",label:"订单类型",align:"center"}}),a("el-table-column",{attrs:{prop:"reason,id,audit_status,mold",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"small",disabled:1!=e.row.audit_status,loading:t.goodsLoading[e.$index]},on:{click:function(a){t.goods(e.row,e.$index)}}},[t._v("确认收货")])]}}])})],1),a("el-pagination",{staticClass:"page",attrs:{background:"","page-count":t.filterTotalPage,"current-page":t.filterPage,layout:"prev,pager,next,jumper,total,->","pager-count":5,small:""},on:{"current-change":t.filterHandleList,"update:currentPage":function(e){t.filterPage=e}}})],1):t._e()]),a("el-dialog",{attrs:{title:"补充物料",visible:t.supplyDialogVisible,width:"1000px",center:""},on:{"update:visible":function(e){t.supplyDialogVisible=e}}},[a("el-form",{ref:"form",staticClass:"supplyDialogBox demo-form-inline",attrs:{inline:!0,"label-width":"70px"}},[a("table",{staticClass:"applyTable"},[a("tr",[a("th",[t._v("物料名称")]),a("th",[t._v("物料缺失状态(升)")]),a("th",[t._v("申请数量(升)")])]),t._l(t.isLack,function(e,n){return a("tr",{key:n},[a("td",[t._v(t._s(e.materiel))]),a("td",[t._v(t._s(e.num))]),a("td",[a("span",[t._v("粘度20 :")]),a("el-select",{staticClass:"viscositySelect",staticStyle:{"min-width":"0",width:"80px"},attrs:{size:"mini"},on:{change:function(e){t.getRemarks(n,20)}},model:{value:e.val20,callback:function(a){t.$set(e,"val20",a)},expression:"item.val20"}},t._l(e.list20,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),a("span",[t._v("粘度30 :")]),a("el-select",{staticClass:"viscositySelect",staticStyle:{"min-width":"0",width:"80px"},attrs:{size:"mini"},on:{change:function(e){t.getRemarks(n,30)}},model:{value:e.val30,callback:function(a){t.$set(e,"val30",a)},expression:"item.val30"}},t._l(e.list30,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),a("span",[t._v("粘度40 : ")]),a("el-select",{staticStyle:{"min-width":"0",width:"80px"},attrs:{size:"mini"},on:{change:function(e){t.getRemarks(n,40)}},model:{value:e.val40,callback:function(a){t.$set(e,"val40",a)},expression:"item.val40"}},t._l(e.list40,function(t){return a("el-option",{key:t,staticClass:"viscositySelect",attrs:{label:t,value:t}})})),a("span")],1)])})],2),a("span",{staticClass:"col-FF2828"},[t._v("以上物料库存量不足，请点击相应物料进行申请！")]),a("el-button",{staticClass:"supplySubmit",attrs:{type:"primary"},on:{click:t.applyMaterial}},[t._v("立即申请")])],1)],1),a("el-dialog",{attrs:{title:"补充物料",visible:t.filterSupplyDialogVisible,width:"1000px",center:""},on:{"update:visible":function(e){t.filterSupplyDialogVisible=e}}},[a("el-form",{ref:"form",staticClass:"supplyDialogBox demo-form-inline",attrs:{inline:!0,"label-width":"70px"}},[a("table",{staticClass:"applyTable"},[a("tr",[a("th",[t._v("供应商名称")]),a("th",[t._v("供应商电话")]),a("th",[t._v("申请数量(个)")])]),t._l(t.applyFilterList,function(e,n){return a("tr",{key:n},[a("td",[t._v(t._s(e.sm_name))]),a("td",[t._v(t._s(e.sm_phone))]),a("td",[t._v(t._s(e.surplus_num))]),a("td")])})],2),a("span",{staticClass:"col-FF2828"},[t._v("以上物料库存量不足，请点击相应物料进行申请！")]),a("el-button",{staticClass:"supplySubmit",attrs:{type:"primary"},on:{click:function(e){t.filterApplyMaterial(t.applyFilterList[0])}}},[t._v("立即申请")])],1)],1),a("el-dialog",{attrs:{title:"补充物料",visible:t.supplyDetDialogVisible,width:"1000px",center:""},on:{"update:visible":function(e){t.supplyDetDialogVisible=e}}},[a("el-form",{ref:"form",staticClass:"supplyDetDialogBox demo-form-inline",attrs:{inline:!0,"label-width":"70px"}},[a("table",{staticClass:"applyTable"},[a("tr",[a("th",[t._v("申请编号")]),a("th",[t._v("申请时间")]),a("th",[t._v("审核时间")])]),a("tr",[a("td",[t._v(t._s(t.orderDetData.apply_sn))]),a("td",[t._v(t._s(t.orderDetData.create_time))]),a("td",[t._v(t._s(t.orderDetData.audit_time))])])]),a("table",{staticClass:"applyTable"},[a("tr",[a("th",[t._v("物料名称")]),a("th",[t._v("物料数量")]),a("th",[t._v("备注信息")])]),t._l(t.orderDetData.detail,function(e){return a("tr",{key:t.orderDetData.detail[e]},[a("td",{domProps:{innerHTML:t._s(e.materiel)}}),a("td",{domProps:{innerHTML:t._s(e.num)}}),e.remarks?a("td",{domProps:{innerHTML:t._s(e.remarks)}}):t._e(),e.remarks?t._e():a("td",[t._v("--")])])})],2)])],1),a("el-dialog",{attrs:{title:"填写取消申请理由",visible:t.withdrawDialogVisible,width:"1000px",center:""},on:{"update:visible":function(e){t.withdrawDialogVisible=e}}},[a("el-form",{ref:"form",staticClass:"withdrawDialogBox demo-form-inline",attrs:{inline:!0}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.reason,expression:"reason"}],staticClass:"withdrawText",attrs:{name:"",cols:"30",rows:"10",placeholder:"输入理由"},domProps:{value:t.reason},on:{input:function(e){e.target.composing||(t.reason=e.target.value)}}}),a("el-button",{staticClass:"supplySubmit",attrs:{type:"primary"},on:{click:t.cancelApply}},[t._v("立即申请")])],1)],1),a("el-dialog",{attrs:{title:"取消理由",visible:t.previewDialogVisible,width:"1000px",center:""},on:{"update:visible":function(e){t.previewDialogVisible=e}}},[a("div",{staticClass:"previewDialogBox col-32373C"},[t._v("\n      "+t._s(t.resReason)+"\n    ")])])],1)},r=[],i=a("ee3a"),s=i["a"],l=(a("285a"),a("adbe"),a("2877")),o=Object(l["a"])(s,n,r,!1,null,"590fe04a",null);o.options.__file="materiel.vue";e["default"]=o.exports},"755f":function(t,e,a){},"77cb":function(t,e,a){},"7a6b":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"materiel"},[a("div",{staticClass:"viewMain"},[a("div",{staticClass:"tabChange"},[a("div",{class:[1==t.currentTab?"second col-32373C tabActive":"","first col-32373C"],on:{click:function(e){t.tabChange(1)}}},[t._v("未发货")]),a("div",{class:[2==t.currentTab?"second col-32373C tabActive":"","first col-32373C"],on:{click:function(e){t.tabChange(2)}}},[t._v("已完成")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.currentTab,expression:"currentTab == 1"}],staticClass:"secondBody"},[a("el-table",{attrs:{data:t.tableData,"header-cell-style":{background:"#D7E1E6",color:"#32373C"}}},[a("el-table-column",{attrs:{prop:"odd_num",label:"订单编号",align:"center"}}),a("el-table-column",{attrs:{prop:"brand",label:"品牌名称",align:"center"}}),a("el-table-column",{attrs:{prop:"num",label:"数量",align:"center"}}),a("el-table-column",{attrs:{prop:"name",label:"赠品名称",align:"center"}}),a("el-table-column",{attrs:{prop:"standard",label:"赠品型号",align:"center"}}),a("el-table-column",{attrs:{prop:"create_time",label:"订单创建时间",align:"center"}})],1),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","current-page":t.currentPage,"page-count":t.totalPage},on:{"current-change":t.supplyRecord,"update:currentPage":function(e){t.currentPage=e}}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:2==t.currentTab,expression:"currentTab == 2"}],staticClass:"secondBody"},[a("el-table",{attrs:{data:t.tableData,"header-cell-style":{background:"#D7E1E6",color:"#32373C"}}},[a("el-table-column",{attrs:{prop:"odd_num",label:"订单编号",align:"center"}}),a("el-table-column",{attrs:{prop:"brand",label:"品牌名称",align:"center"}}),a("el-table-column",{attrs:{prop:"num",label:"数量",align:"center"}}),a("el-table-column",{attrs:{prop:"name",label:"赠品名称",align:"center"}}),a("el-table-column",{attrs:{prop:"standard",label:"赠品型号",align:"center"}}),a("el-table-column",{attrs:{prop:"deliver_time",label:"发货时间",align:"center"}})],1),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","current-page":t.currentPage,"page-count":t.totalPage},on:{"current-change":t.supplyRecord,"update:currentPage":function(e){t.currentPage=e}}})],1)])])},r=[],i=a("4362"),s={data:function(){return{currentTab:1,currentPage:1,totalPage:50,tableData:[]}},methods:{supplyRecord:function(t){1==this.currentTab?this.createGifts(t):this.deliverGifts(t)},deliverGifts:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Object(i["J"])({page:e}).then(function(e){e.data.code&&(t.tableData=e.data.data.list,t.totalPage=e.data.data.rows)})},createGifts:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Object(i["F"])({page:e}).then(function(e){e.data.code&&(t.tableData=e.data.data.list,t.totalPage=e.data.data.rows)})},tabChange:function(t){this.currentTab=t,this.tableData=[],this.currentPage=1,1==this.currentTab?this.createGifts():this.deliverGifts()}},created:function(){this.tabChange(1)}},l=s,o=(a("42df"),a("d3b9"),a("2877")),c=Object(o["a"])(l,n,r,!1,null,"7caa8d8e",null);c.options.__file="giftM.vue";e["default"]=c.exports},8556:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pieChart"},[a("div",{staticClass:"pie-chart",attrs:{id:"pie-chart"}}),t.pieData2?a("div",{staticClass:"pie-chart",attrs:{id:"pie-chart2"}}):t._e()])},r=[],i=a("313e"),s=a.n(i),l={data:function(){return{myChart:{},myChart1:{}}},props:["pieData","pieData2"],methods:{setFundEchart:function(){this.myChart=s.a.init(document.getElementById("pie-chart")),this.myChart.setOption(this.pieData,!0),this.myChart.resize(),this.myChart.on("click",this.chartEvent),""!=this.pieData2&&(this.myChart1=s.a.init(document.getElementById("pie-chart2")),this.myChart1.setOption(this.pieData2,!0),this.myChart1.resize())},chartEvent:function(t){this.$emit("clickChart",t)}},mounted:function(){var t=this;t.setFundEchart(),window.onresize=function(){t.setFundEchart()}},watch:{pieData:function(){this.setFundEchart()},pieData2:function(){this.setFundEchart()}}},o=l,c=(a("417e"),a("2877")),u=Object(c["a"])(o,n,r,!1,null,"70ffd915",null);u.options.__file="pieChart.vue";e["a"]=u.exports},"876f":function(t,e,a){},"87a0":function(t,e,a){},"88af":function(t,e,a){},"8b97":function(t,e,a){var n=a("d3f4"),r=a("cb7c"),i=function(t,e){if(r(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{n=a("9b43")(Function.call,a("11e9").f(Object.prototype,"__proto__").set,2),n(t,[]),e=!(t instanceof Array)}catch(r){e=!0}return function(t,a){return i(t,a),e?t.__proto__=a:n(t,a),t}}({},!1):void 0),check:i}},"8e3e":function(t,e,a){"use strict";var n=a("591c"),r=a.n(n);r.a},9093:function(t,e,a){var n=a("ce10"),r=a("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,r)}},"94e8":function(t,e,a){},"977f":function(t,e,a){},a567:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[t._m(0),n("div",{staticClass:"right"},[n("ul",[n("li",[n("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.$router.go(-1)}}},[t._v("返回上一页")]),n("router-link",{attrs:{to:"/home"}},[t._v("返回首页")])],1),n("li",[n("router-link",{attrs:{to:"/news"}},[n("img",{staticClass:"news",attrs:{src:a("0af8")}}),n("el-badge",{directives:[{name:"show",rawName:"v-show",value:t.newsData,expression:"newsData"}],staticClass:"item",attrs:{"is-dot":""}})],1)],1),n("li",{staticClass:"border"}),n("li",{staticClass:"second_level"},[n("a",{attrs:{href:"javascript:;"}},[t._v(t._s(t.name))]),n("div",{staticClass:"Subgrade"},[n("p",[n("router-link",{attrs:{to:"/account_information"}},[t._v("资料与账号")])],1),n("p",[n("router-link",{attrs:{to:"/modify_password"}},[t._v("修改密码")])],1),n("p",[n("router-link",{attrs:{to:"/feedback"}},[t._v("反馈")])],1),n("p",[n("a",{attrs:{href:"javascript:;"},on:{click:t.log_out}},[t._v("退出")])])])])])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"logo"},[a("div",{},[t._v("仲达集团-WDA维修厂管理系统")])])}],i=(a("96cf"),a("1da1")),s=a("4362"),l={data:function(){return{newsData:"",name:window.localStorage.getItem("username")}},methods:{log_out:function(){var t=this;this.$confirm("确定要退出该系统吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$message({type:"success",message:"退出成功",duration:2e3,onClose:function(){window.localStorage.clear()}}),t.$router.push("/login")}).catch(function(){})},Systemnews:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(s["Qb"])();case 3:e=t.sent,1==e.data.code&&(this.newsData=e.data.data),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(){return t.apply(this,arguments)}}()},mounted:function(){this.Systemnews()}},o=l,c=(a("060d"),a("0cdc"),a("2877")),u=Object(c["a"])(o,n,r,!1,null,"250d6f8a",null);u.options.__file="Small_header.vue";e["a"]=u.exports},aa77:function(t,e,a){var n=a("5ca1"),r=a("be13"),i=a("79e5"),s=a("fdef"),l="["+s+"]",o="​",c=RegExp("^"+l+l+"*"),u=RegExp(l+l+"*$"),d=function(t,e,a){var r={},l=i(function(){return!!s[t]()||o[t]()!=o}),c=r[t]=l?e(p):s[t];a&&(r[a]=c),n(n.P+n.F*l,"String",r)},p=d.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(u,"")),t};t.exports=d},adbe:function(t,e,a){"use strict";var n=a("94e8"),r=a.n(n);r.a},b55d:function(t,e,a){},b6ac:function(t,e,a){},c489:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bottomBox"},[a("div",{staticClass:"leftChart"},[a("div",{staticClass:"chartTitle"},[a("selectLink")],1),a("pieChart",{attrs:{pieData:t.fundOpt}})],1),a("div",{staticClass:"rightChart"},[a("div",{staticClass:"chartTitle"},[a("span",[t._v("物料消耗")]),a("el-dropdown",{on:{command:t.selectInterval}},[a("span",{staticClass:"el-dropdown-link"},[t._v("\n          "+t._s(t.selectName)),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:'{"value":"1","name":"日"}'}},[t._v("日")]),a("el-dropdown-item",{attrs:{command:'{"value":"2","name":"月"}'}},[t._v("月")]),a("el-dropdown-item",{attrs:{command:'{"value":"3","name":"近三天"}'}},[t._v("近三天")]),a("el-dropdown-item",{attrs:{command:'{"value":"4","name":"近七天"}'}},[t._v("近七天")]),a("el-dropdown-item",{attrs:{command:'{"value":"6","name":"自定义"}'}},[t._v("自定义")])],1)],1),a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:t.custom,expression:"custom"}],attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerFastOptions,"value-format":"yyyy-MM-dd HH:mm:ss","default-time":["00:00:00","23:59:59"]},on:{change:t.reloadData},model:{value:t.intervalTime,callback:function(e){t.intervalTime=e},expression:"intervalTime"}})],1),a("lineChart",{attrs:{lineData:t.technicianOpt}})],1)])},r=[],i=(a("96cf"),a("1da1")),s=(a("7f7f"),a("f30c")),l=a("8120"),o=a("8556"),c=a("4362"),u={data:function(){return{selectName:"日",selectValue:"1",custom:!1,lineData:"",pieData:{detail:[{name:"",value:""}],total:[{name:"",value:""}]},intervalTime:"",pickerFastOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.$emit("pick",[a,e])}}]}}},computed:{fundOpt:function(){var t=this,e={tooltip:{trigger:"item",formatter:"{b} : {c}"},calculable:!1,series:[{tooltip:{trigger:"item",formatter:"{b} : {c}"},type:"pie",hoverAnimation:!1,selectedOffset:0,legendHoverLink:!1,selectedMode:"single",radius:[0,"30%"],color:["#00FF38"],label:{position:"center",formatter:"{b}\n{c}",color:"#004F11",fontSize:12,lineHeight:18,rich:{}},labelLine:{normal:{show:!0}},data:t.pieData.total},{name:"访问来源",type:"pie",radius:["40%","70%"],color:["#801FDE","#FF6E6E","#2B60FF","#FF3CCD"],label:{normal:{position:"inside",formatter:"{d}%",borderWidth:1,rich:{a:{color:"#333",lineHeight:22,align:"center"},abg:{backgroundColor:"#333",width:"100%",align:"right",height:22,borderRadius:[4,4,0,0]},hr:{borderColor:"#333",width:"100%",borderWidth:.3,height:0},b:{fontSize:16,lineHeight:33},per:{color:"#eee",backgroundColor:"#333",padding:[2,4],borderRadius:2}}}},data:t.pieData.detail}]};return e},technicianOpt:function(){var t=this,e={textStyle:{color:"#fff"},legend:{show:!1},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},grid:{left:"0",right:"5%",bottom:"5%",top:"20%",containLabel:!0},xAxis:{axisLabel:{show:!0,interval:0,rotate:45},axisTick:{show:!1},axisLine:{lineStyle:{color:"#014D8B"}},splitLine:{show:!0,lineStyle:{color:"#014D8B"}},color:"#FFF",type:"category",data:t.lineData.day},yAxis:{axisTick:{show:!1},axisLine:{lineStyle:{color:"#014D8B"}},splitLine:{show:!0,lineStyle:{color:"#014D8B"}},type:"value"},series:[{color:"#00FF38",name:"物料消耗",type:"line",itemStyle:{normal:{lineStyle:{color:"#00ff38",width:4}}},lineStyle:{color:"#00ff38",width:4},areaStyle:{normal:{opacity:0}},data:t.lineData.data}]};return e}},components:{pieChart:o["a"],lineChart:l["a"],selectLink:s["a"]},methods:{selectInterval:function(t){t=JSON.parse(t),this.selectName=t.name,this.selectValue=t.value,6!=t.value?(this.intervalTime="",this.custom=!1,this.materialLine()):this.custom=!0},reloadData:function(){this.materialLine()},material:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["Jb"])();case 2:e=t.sent,1==e.data.code?this.pieData=e.data.data:this.$message({message:e.data.msg,type:"warning"});case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),materialLine:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.intervalTime&&this.intervalTime[0]&&this.intervalTime[1]?(e=this.intervalTime[0],a=this.intervalTime[1]):(e="",a=""),t.next=3,Object(c["Lb"])(this.selectValue,e,a);case 3:n=t.sent,1==n.data.code?this.lineData=n.data.data:this.$message({message:n.data.msg,type:"warning"});case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},mounted:function(){this.material(),this.materialLine()}},d=u,p=(a("8e3e"),a("2877")),m=Object(p["a"])(d,n,r,!1,null,"6f0d3f61",null);m.options.__file="materielReduce.vue";e["default"]=m.exports},c5f6:function(t,e,a){"use strict";var n=a("7726"),r=a("69a8"),i=a("2d95"),s=a("5dbc"),l=a("6a99"),o=a("79e5"),c=a("9093").f,u=a("11e9").f,d=a("86cc").f,p=a("aa77").trim,m="Number",_=n[m],h=_,f=_.prototype,g=i(a("2aeb")(f))==m,v="trim"in String.prototype,b=function(t){var e=l(t,!1);if("string"==typeof e&&e.length>2){e=v?e.trim():p(e,3);var a,n,r,i=e.charCodeAt(0);if(43===i||45===i){if(a=e.charCodeAt(2),88===a||120===a)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+e}for(var s,o=e.slice(2),c=0,u=o.length;c<u;c++)if(s=o.charCodeAt(c),s<48||s>r)return NaN;return parseInt(o,n)}}return+e};if(!_(" 0o1")||!_("0b1")||_("+0x1")){_=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof _&&(g?o(function(){f.valueOf.call(a)}):i(a)!=m)?s(new h(b(e)),a,_):b(e)};for(var w,y=a("9e1e")?c(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),D=0;y.length>D;D++)r(h,w=y[D])&&!r(_,w)&&d(_,w,u(h,w));_.prototype=f,f.constructor=_,a("2aba")(n,m,_)}},d3b9:function(t,e,a){"use strict";var n=a("44cf"),r=a.n(n);r.a},dbf2:function(t,e,a){"use strict";var n=a("3ece"),r=a.n(n);r.a},dd47:function(t,e,a){},ddb4:function(t,e,a){},ee3a:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("20d6"),core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_0__),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("96cf"),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_1__),F_wxc_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("1da1"),_server_serverData__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("4362");__webpack_exports__["a"]={data:function(){return{supplyDialogVisible:!1,supplyDetDialogVisible:!1,withdrawDialogVisible:!1,previewDialogVisible:!1,filterSupplyDialogVisible:!1,currentTab:1,seasonId:"",oilData:[],isLack:[],FilterData:[],applyFilterList:[],filterHandleData:[],filterTotalPage:0,filterPage:0,goodsLoading:[],currentPage:1,totalPage:50,tableData:[],modelList:[],materiel_id:[],orderDetData:"",reasonId:"",reason:"",resReason:"",keyword:"",intervalTime:"",status:"1",type:"1",pickerFastOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.$emit("pick",[a,e])}}]}}},watch:{filterTotalPage:function(){this.filterTotalPage>0&&(this.filterPage-=1,this.filterHandleList())}},methods:{tabChange:function(t){switch(this.currentTab=t,this.filterPage=1,t){case 1:this.getMaterial();break;case 2:this.supplyRecord();break;case 3:this.getFilterList();break;case 4:this.filterHandleList();break}},reloadData:function(){this.supplyRecord()},orderDet:function(){var _orderDet=Object(F_wxc_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__["a"])(regeneratorRuntime.mark(function _callee(id){var res;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(_server_serverData__WEBPACK_IMPORTED_MODULE_3__["r"])(id);case 2:res=_context.sent,1==res.data.code?(res.data.data.detail=eval(res.data.data.detail),this.orderDetData=res.data.data,this.supplyDetDialogVisible=!0):this.$message({message:res.data.msg,type:"warning"});case 4:case"end":return _context.stop()}},_callee,this)}));return function(t){return _orderDet.apply(this,arguments)}}(),oilsversion:function(){var t=Object(F_wxc_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(_server_serverData__WEBPACK_IMPORTED_MODULE_3__["j"])();case 3:e=t.sent,this.modelList=e.data.data||[],t.next=10;break;case 7:throw t.prev=7,t.t0=t["catch"](0),t.t0;case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),getRemarks:function(t,e){var a=this.isLack[t];30==e?(a.val20=a.num-a.val30-a.val40>0?a.num-a.val30-a.val40:0,a.val40=a.num-a.val20-a.val30>0?a.num-a.val20-a.val30:0):20==e?(a.val30=a.num-a.val20-a.val40>0?a.num-a.val20-a.val40:0,a.val40=a.num-a.val20-a.val30>0?a.num-a.val20-a.val30:0):(a.val30=a.num-a.val40-a.val20>0?a.num-a.val40-a.val20:0,a.val20=a.num-a.val40-a.val30>0?a.num-a.val40-a.val30:0),this.$forceUpdate()},getMaterial:function(){var t=Object(F_wxc_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(_server_serverData__WEBPACK_IMPORTED_MODULE_3__["pb"])();case 2:e=t.sent,1==e.data.code?this.oilData=e.data.data:this.$message({message:e.data.msg,type:"warning"});case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getFilterList:function(){var t=Object(F_wxc_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(_server_serverData__WEBPACK_IMPORTED_MODULE_3__["db"])();case 3:e=t.sent,1==e.data.code?this.FilterData=e.data.data:this.$message({message:e.data.msg,type:"warning"}),t.next=10;break;case 7:throw t.prev=7,t.t0=t["catch"](0),t.t0;case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),ApplySupplement:function(){var t=Object(F_wxc_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(_server_serverData__WEBPACK_IMPORTED_MODULE_3__["V"])();case 2:e=t.sent,1==e.data.code?(this.filterSupplyDialogVisible=!0,this.applyFilterList=[e.data.data]):this.$message({message:e.data.msg,type:"warning"});case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),filterApplyMaterial:function(){var t=Object(F_wxc_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e),t.prev=1,t.next=4,Object(_server_serverData__WEBPACK_IMPORTED_MODULE_3__["W"])({sid:e.sid,sm_id:e.sm_id,surplus_num:e.surplus_num});case 4:a=t.sent,1==a.data.code?(this.$message({message:a.data.msg,type:"success"}),this.filterSupplyDialogVisible=!1,this.getFilterList()):this.$message.error(a.data.msg),t.next=11;break;case 8:throw t.prev=8,t.t0=t["catch"](1),t.t0;case 11:case"end":return t.stop()}},t,this,[[1,8]])}));return function(e){return t.apply(this,arguments)}}(),materialWarn:function(){var t=Object(F_wxc_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__["a"])(regeneratorRuntime.mark(function t(){var e,a,n,r,i,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(_server_serverData__WEBPACK_IMPORTED_MODULE_3__["Kb"])();case 2:if(e=t.sent,1==e.data.code){for(this.supplyDialogVisible=!0,a=e.data.data,n=[],n.length=a.length,r=0;r<a.length;r++){for(n[r]={},n[r].num=a[r].apply,n[r].materiel_id=a[r].materiel_id,n[r].materiel=a[r].materiel,n[r].remarks="",i=new Array(n[r].num+1),s=0;s<i.length;s++)i[s]=s;n[r].list20=i,n[r].list30=n[r].list40=i,console.log(n),n[r].val20=Math.ceil(n[r].num/3),n[r].val30=Math.floor(n[r].num/3),n[r].val40=Math.floor(n[r].num-n[r].val20-n[r].val30)}this.isLack=n,this.oilsversion()}else this.$message({message:e.data.msg,type:"warning"});case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),applyMaterial:function(){var t=Object(F_wxc_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__["a"])(regeneratorRuntime.mark(function t(){var e,a,n,r,i,s,l=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=this,a=e.isLack,n=[],0!=a.length){t.next=3;break}return t.abrupt("return");case 3:for(r=function(t){var e=a[t],r={};r.num=e.num,r.materiel_id=e.materiel_id;l.modelList.findIndex(function(e){return e.id==l.materiel_id[t]});r.materiel=e.materiel,7!=e.materiel_id?r.remarks="粘度20："+e.val20+"L，粘度30："+e.val30+"L，粘度40："+e.val40+"L":r.remarks=e.remarks,n.push(r)},i=0;i<a.length;i++)r(i);return console.log(n),n=JSON.stringify(n),this.supplyDialogVisible=!1,t.next=10,Object(_server_serverData__WEBPACK_IMPORTED_MODULE_3__["q"])(n);case 10:s=t.sent,1==s.data.code?this.$message({message:s.data.msg,type:"success"}):this.$message({message:s.data.msg,type:"warning"});case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),supplyRecord:function(){var t=Object(F_wxc_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__["a"])(regeneratorRuntime.mark(function t(){var e,a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.intervalTime&&this.intervalTime[0]&&this.intervalTime[1]?(e=this.intervalTime[0],a=this.intervalTime[1]):(e="",a=""),t.next=3,Object(_server_serverData__WEBPACK_IMPORTED_MODULE_3__["Nb"])(this.currentPage,this.keyword,e,a,this.status);case 3:n=t.sent,1==n.data.code?(this.tableData=n.data.data.list,this.totalPage=n.data.data.rows):(this.tableData=[],this.totalPage=1,this.$message({message:n.data.msg,type:"warning"}));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),filterHandleList:function(){var t=Object(F_wxc_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__["a"])(regeneratorRuntime.mark(function t(){var e,a,n,r=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.intervalTime&&this.intervalTime[0]&&this.intervalTime[1]?(e=this.intervalTime[0],a=this.intervalTime[1]):(e="",a=""),this.$nextTick(function(){console.log(r.filterPage,"分页")}),t.next=4,Object(_server_serverData__WEBPACK_IMPORTED_MODULE_3__["eb"])(this.filterPage,this.type,e,a,this.status);case 4:n=t.sent,this.filterHandleData=n.data.data.list||[],this.filterTotalPage=n.data.data.rows||1;case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),goods:function(t,e){var a=this;this.$confirm("是否确认收货 ?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(F_wxc_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__["a"])(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,a.goodsLoading[e]=!0,n.next=4,Object(_server_serverData__WEBPACK_IMPORTED_MODULE_3__["e"])({id:t.id,sid:t.sid,sm_id:t.sm_id});case 4:r=n.sent,a.goodsLoading[e]=!1,1==r.data.code?(a.$message({message:r.data.msg,type:"success"}),a.filterHandleList()):a.$message.error(r.data.msg),n.next=13;break;case 9:throw n.prev=9,n.t0=n["catch"](0),a.goodsLoading[e]=!1,n.t0;case 13:case"end":return n.stop()}},n,this,[[0,9]])}))).catch(function(){})},cancelApply:function(){var t=Object(F_wxc_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log(this.seasonId),t.next=3,Object(_server_serverData__WEBPACK_IMPORTED_MODULE_3__["x"])(this.seasonId,this.reason);case 3:e=t.sent,1==e.data.code?(this.withdrawDialogVisible=!1,this.$message({message:e.data.msg,type:"success"}),this.supplyRecord()):this.$message({message:e.data.msg,type:"warning"});case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},created:function(){this.getMaterial()}}},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=materiel.5cf5063f.js.map